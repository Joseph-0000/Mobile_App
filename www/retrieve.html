<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product List</title>
</head>
<body>
    <h1>Product List</h1>
    
    <ul id="productList"></ul>

    <script>
        function displayProductList() {
            const productList = document.getElementById("productList");
            productList.innerHTML = "";

            // Retrieve products from localStorage
            const products = JSON.parse(localStorage.getItem("products")) || [];

            products.forEach((product, index) => {
                const listItem = document.createElement("li");
                const viewButton = document.createElement("button");
                // Show only the product name, price, and amount in the button text
                viewButton.textContent = `${product.productName} - $${product.buyPrice} - Amount: ${product.amount}`;
                viewButton.onclick = function () {
                    viewProduct(index);
                };

                listItem.appendChild(viewButton);
                productList.appendChild(listItem);
            });
        }

        function viewProduct(index) {
            // Store the selected product index in localStorage
            localStorage.setItem("selectedProductIndex", index);

            // Redirect to the product details page
            window.location.href = "product-details.html";
        }

        // Display the product list when the page loads
        displayProductList();
    </script>
</body>
</html>
